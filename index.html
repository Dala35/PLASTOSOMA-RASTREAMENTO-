<!DOCTYPE html>

<html lang="pt-br">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Plastosoma - Impacto Ambiental</title>

  <script src="https://cdn.jsdelivr.net/npm/tailwindcss@2.1.2/dist/tailwind.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body class="bg-gray-50">

  <!-- Navbar -->

  <nav class="bg-blue-600 p-4">

    <ul class="flex justify-around text-white">

      <li><a href="/" class="font-semibold">Home</a></li>

      <li><a href="/rastreamento" class="font-semibold">Rastreamento</a></li>

      <li><a href="/impacto" class="font-semibold">Impacto Ambiental</a></li>

    </ul>

  </nav>



  <!-- Hero Section -->

  <section class="bg-blue-800 text-white py-20 text-center">

    <h1 class="text-4xl font-bold">Bem-vindo ao Plastosoma</h1>

    <p class="mt-4">Rastreamento e Previsão de Impacto Ambiental de Resíduos</p>

  </section>



  <!-- Gráfico de Impacto -->

  <section class="p-10">

    <h2 class="text-3xl font-semibold text-center">Impacto Ambiental das Embalagens</h2>

    <div class="mt-8">

      <canvas id="impactoChart"></canvas>

    </div>

  </section>
<section class="p-10">

  <h2 class="text-3xl font-semibold text-center">Rastreamento de Embalagens</h2>

  <div class="mt-8 flex justify-center">

    <input type="text" id="qrCodeInput" placeholder="Escaneie o QR Code" class="p-2 border rounded-md">

    <button id="rastearBtn" class="ml-4 bg-blue-600 text-white p-2 rounded-md">Rastrear</button>

  </div>

  <div id="resultado" class="mt-8 hidden">

    <h3 class="text-xl">Resultado do Rastreamento:</h3>

    <ul>

      <li><strong>Tipo de Plástico:</strong> <span id="tipoPlastico"></span></li>

      <li><strong>Impacto Ambiental:</strong> <span id="impactoAmbiental"></span></li>

      <li><strong>Recomendação:</strong> <span id="recomendacao"></span></li>

    </ul>

  </div>

</section>



<script>

  document.getElementById('rastearBtn').addEventListener('click', function() {

    var qrCode = document.getElementById('qrCodeInput').value;



    // Requisição para o backend

    fetch(`/api/impacto/${qrCode}`)

      .then(response => response.json())

      .then(data => {

        // Exibir os resultados

        document.getElementById('tipoPlastico').textContent = data.tipo_plastico;

        document.getElementById('impactoAmbiental').textContent = data.impacto_ambiental;

        document.getElementById('recomendacao').textContent = data.recomendacao;

        document.getElementById('resultado').classList.remove('hidden');

      })

      .catch(err => console.log(err));

  });

</script>

  <script>

    var ctx = document.getElementById('impactoChart').getContext('2d');

    var impactoChart = new Chart(ctx, {

      type: 'bar',

      data: {

        labels: ['PET', 'PP', 'PE', 'PVC', 'HDPE'],

        datasets: [{

          label: 'Impacto Ambiental (em CO₂)',

          data: [50, 40, 30, 60, 45],

          backgroundColor: 'rgba(54, 162, 235, 0.2)',

          borderColor: 'rgba(54, 162, 235, 1)',

          borderWidth: 1

        }]

      },

      options: {

        scales: {

          y: {

            beginAtZero: true

          }

        }

      }

    });

  </script>

</body>

</html>

